<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<title>Hud</title>
<link rel="stylesheet" href="style.css">
<script>

var currentWindow = require('electron').remote.getCurrentWindow()
var screen = require('screen')
var $ = require('sprint-js')
var settings = require('./settings')

$(window).on('load', function() {
    settings.activated.forEach(function(x) {
        $('#hud').append($('<li></li>').attr('id', x))
        require('./modules/' + x).init($('#' + x), settings[x])
    })

    // Update window
    var hud = $('#hud')
    var width = Math.ceil(hud.width()) + 5
    var screensize = screen.getPrimaryDisplay().workAreaSize

    currentWindow.setBounds({
        width: width,
        height: screensize.height,
        x: screensize.width - width - 30,
        y: 30
    })
    
    currentWindow.show()
})

$(window).on('keydown', function(e) {
    if (e.keyCode == 116) location.reload()
})

</script>

</head>
<body>

<ul id="hud"></ul>

</body>
</html>
