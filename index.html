<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<title>Hud</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="node_modules/weather-icons/css/weather-icons.css">
<script>

var remote = require('remote')
var screen = require('screen')
var $ = require('sprint-js')

$(window).on('load', function() {
    require('./modules/weather').init($('#weather'))
    require('./modules/clock').init($('#clock'))
    require('./modules/date').init($('#date'))
    require('./modules/train').init($('#train'))

    // Update window
    var win = remote.getCurrentWindow()
    var hud = $('#hud')
    var width = Math.ceil(hud.width()) + 30
    var screensize = screen.getPrimaryDisplay().workAreaSize

    win.setBounds({
        width: width,
        height: screensize.height,
        x: screensize.width - width - 30,
        y: 30
    })
    win.show()
})

$(window).on('keydown', function(e) {
    if (e.keyCode == 116) {
        location.reload()
    }
})

</script>

</head>
<body>

<ul id="hud">
    <li id="weather">Heidelberg 19Â°C</li>
    <li id="clock"></li>
    <li id="date"></li>
    <li id="train"></li>
</ul>

</body>
</html>
